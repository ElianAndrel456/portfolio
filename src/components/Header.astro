---
import BarsIcon from '../icons/BarsIcon.astro'
import CloseIcon from '../icons/CloseIcon.astro'
---

<nav
  class='flex justify-between px-8 py-4 fixed w-full z-40 backdrop-blur-sm sm:container md:items-center'>
  <div class='text-2xl md:text-3xl cursor-pointer shadow__text'>
    <span class='text-primary text-shadow-green'>{'<'}</span>
    <span class='text-shadow'>EJ</span>
    <span class='text-primary text-shadow-green'>{'/>'}</span>
  </div>

  <!-- Desktop  -->
  <div class='hidden md:block h-full'>
    <ul class='flex h-full px-10 gap-6 text-xl'>
      <li class='menu__desktop__text cursor-pointer transition-colors'>About Me</li>
      <li class='menu__desktop__text cursor-pointer transition-colors'>Projects</li>
      <li class='menu__desktop__text cursor-pointer transition-colors'>Contact</li>
    </ul>
  </div>
  <!-- End Desktop -->
  <CloseIcon
    id='close'
    className='w-8 cursor-pointer hidden'
  />
  <BarsIcon
    id='bar'
    className='w-8 cursor-pointer md:hidden'
  />
</nav>
<div
  id='menu'
  class='flex transition-transform justify-center min-h-[calc(100vh)] items-center -translate-x-full w-full fixed bg-darkPrimary z-30'>
  <ul class='flex flex-col gap-y-10 text-xl w-full items-center'>
    <li
      class='transition-all duration-500 hover:text-primary hover:text-2xl py-4 w-full text-center menu__selected'>
      About Me
    </li>
    <li
      class='transition-all duration-500 hover:text-primary hover:text-2xl py-4 w-full text-center menu__selected'>
      Projects
    </li>
    <li
      class='transition-all duration-500 hover:text-primary hover:text-2xl py-4 w-full text-center menu__selected'>
      Contact
    </li>
  </ul>
</div>

<script>
  const bar = document.getElementById('bar')
  const menu = document.getElementById('menu')
  const liMenu = document.querySelectorAll('.menu__selected')
  const close = document.getElementById('close')

  bar.addEventListener('click', () => {
    menu.classList.add('translate-x-0')
    bar.classList.add('hidden')
    close.classList.remove('hidden')
  })

  liMenu.forEach((li) => {
    li.addEventListener('click', () => {
      menu.classList.remove('translate-x-0')
      bar.classList.remove('hidden')
      close.classList.add('hidden')
      console.log('clicked')
    })
  })

  close.addEventListener('click', () => {
    menu.classList.remove('translate-x-0')
    bar.classList.remove('hidden')
    close.classList.add('hidden')
  })
</script>
<style>
  .shadow__text:hover .text-shadow-green {
    text-shadow: 0 0 10px #16db65, 0 0 10px #16db65, 0 0 15px #16db65, 0 0 50px #16db65;
    transition: all 0.4s ease;
  }
  .shadow__text:hover .text-shadow {
    text-shadow: 0 0 10px #fff, 0 0 10px #fff, 0 0 15px #fff, 0 0 20px #fff;
    transition: all 0.4s ease;
  }

  .menu__desktop__text:hover {
    position: relative;
    color: #020202;
    -webkit-text-stroke: 0.1vh #16db65;
  }
</style>
